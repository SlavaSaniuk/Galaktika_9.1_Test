.begin
  CountPoz     := CountPoz     + 1 ;
  MassaBrItog  := MassaBrItog  + Round((МассаМЦ + МассаТарыМЦ) * КолУч / 1000, wRoundMass2) * 1000;
  MassaNetItog := MassaNetItog + Round(МассаМЦ * КолУч / 1000, wRoundMass2) * 1000;
  АСтНацСН     := АСтНацСН

#ifdef _IN_VAL_DOC_
  + СтНакСН;
#else
  + СтНацСН0;
#end
  АСТНац2      := АСТНац2      + СтНац;

//  for (i := 1; i<=15; i++)
//    strname[i] := '';

//  i:=1;

//  while (i<=15)
//  {
    if iStrname<=15
    {
      if (Length(strname[iStrname] + if (Название <> '', Название + ', ', '')) < 255)
        strname[iStrname] += if (Название <> '', Название + ', ', '')
      else
      {
        strname[iStrname+1] += if (Название <> '', Название + ', ', '');
        iStrname++;
      }
    }
//  }

  if (bAutoGrM)
    CountKolF := CountKolF + if (ЕД_ИЗМЕРЕНИЯ_ГРУЗОВЫХ_МЕСТ = 'н/у', 0, КОЛ_ГРУЗОВЫХ_МЕСТ)
  else
    CountKolF := CountKolF + if (КОЛ_ГРУЗОВЫХ_МЕСТ <> 0, КОЛ_ГРУЗОВЫХ_МЕСТ,
                               if (ЕД_ИЗМЕРЕНИЯ_ГРУЗОВЫХ_МЕСТ = 'н/у', 0, КолФ));
end.
