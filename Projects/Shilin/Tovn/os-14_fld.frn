.var
  ТтнЖд_ЕдПодвСост_Имя  : string
  ТтнЖд_ЕдПодвСост_Номер: string
.endvar
.fields
  CommonFormHeader

  Ean13ToEanGnivcTTF(GenerateBarCodeEx(coKatSopr, накладная_нрек))

  Получатель
  if (ПолучательУНН        <> '', ' ИНН: '            , '')
  if (ПолучательУНН        <> '', ПолучательУНН       , '')
  Получатель_ОКПО
  if (Получатель_Адрес     <> '',' Адрес: '           , '')
  if (Получатель_Адрес     <> '', Получатель_Адрес    , '')
  if (Получатель_ТЕЛ       <> '', ' тел.: '           , '')
  if (Получатель_ТЕЛ       <> '', Получатель_ТЕЛ      , '')
  if (Получатель_БАНК_Имя  <> '',' Банк: '            , '')
  if (Получатель_БАНК_Имя  <> '', Получатель_БАНК_Имя , '')
  if (Получатель_БАНК_Счет <> '', ' р/с: '            , '')
  if (Получатель_БАНК_Счет <> '', Получатель_БАНК_Счет, '')
  if (Получатель_БАНК_Мфо  <> '', ' БИК: '            , '')
  if (Получатель_БАНК_Мфо  <> '', Получатель_БАНК_Мфо , '')

  if (Склад_Пол <> '', Склад_Пол , '')

#ifdef _TOVN_DEI
  if (sRaspNum          <> '', 'Распоряжение',
#end
  if (Номер_Договора    <> '', 'Договор'
  , if (НарядЗаказНомер <> '', 'Заказ-наряд'
  , if (Основание       <> '', 'Счет', ''
  )))
#ifdef _TOVN_DEI
  )
#end

#ifdef _TOVN_DEI
  if (sRaspNum          <> '', sRaspNum,
#end
  if (Номер_Договора    <> '', Номер_Договора
  , if (НарядЗаказНомер <> '', НарядЗаказНомер
  , if (Основание       <> '', Основание, ''
  )))
#ifdef _TOVN_DEI
  )
#end

#ifdef _TOVN_DEI
  if (sRaspNum          <> '', DateToStr(dRaspDate     , 'DD/MM/YYYY'),
#end
  if (Номер_Договора    <> '', DateToStr(Дата_Договора , 'DD/MM/YYYY')
  , if (НарядЗаказНомер <> '', DateToStr(НарядЗаказДата, 'DD/MM/YYYY')
  , if (Основание       <> '', DateToStr(ДатаОснования , 'DD/MM/YYYY'), ''
  )))
#ifdef _TOVN_DEI
  )
#end

  String(Номер)
  String(Дата)

#ifdef _TOVN_DEI
  sPost1  sFIO1
#else
  String(Директор_Должность)
  String(Директор)
#end

  ДатаДень  ДатаМесяц   ДатаГод

  Поставщик
  if (ПоставщикУНН        <> '', ' ИНН: '           , '')
  if (ПоставщикУНН        <> '', ПоставщикУНН       , '')
  Поставщик_ОКПО
  if (Поставщик_Адрес     <> '', ' Адрес: '         , '')
  if (Поставщик_Адрес     <> '', Поставщик_Адрес    , '')
  if (Поставщик_ТЕЛ       <> '', ' тел.: '          , '')
  if (Поставщик_ТЕЛ       <> '', Поставщик_ТЕЛ      , '')
  if (Поставщик_БАНК_Имя  <> '',' Банк: '           , '')
  if (Поставщик_БАНК_Имя  <> '', Поставщик_БАНК_Имя , '')
  if (Поставщик_БАНК_Счет <> '', ' р/с: '           , '')
  if (Поставщик_БАНК_Счет <> '', Поставщик_БАНК_Счет, '')
  if (Поставщик_БАНК_Мфо  <> '', ' БИК: '           , '')
  if (Поставщик_БАНК_Мфо  <> '', Поставщик_БАНК_Мфо , '')

  Грузоотправитель
  if (ГрузоотправительУНН        <> '', ' ИНН: '                  , '')
  if (ГрузоотправительУНН        <> '', ГрузоотправительУНН       , '')
  Грузоотправитель_ОКПО
  if (Грузоотправитель_Адрес     <> '', ' Адрес: '                , '')
  if (Грузоотправитель_Адрес     <> '', Грузоотправитель_Адрес    , '')
  if (Грузоотправитель_ТЕЛ       <> '', ' тел.: '                 , '')
  if (Грузоотправитель_ТЕЛ       <> '', Грузоотправитель_ТЕЛ      , '')
  if (Грузоотправитель_БАНК_Имя  <> '', ' Банк: '                 , '')
  if (Грузоотправитель_БАНК_Имя  <> '', Грузоотправитель_БАНК_Имя , '')
  if (Грузоотправитель_БАНК_Счет <> '', ' р/с: '                  , '')
  if (Грузоотправитель_БАНК_Счет <> '', Грузоотправитель_БАНК_Счет, '')
  if (Грузоотправитель_БАНК_Мфо  <> '', ' БИК: '                  , '')
  if (Грузоотправитель_БАНК_Мфо  <> '', Грузоотправитель_БАНК_Мфо , '')

#ifdef _TOVN_DEI
  Склад_Пол_Адрес
#end

  ТтнЖд_ЕдПодвСост_Имя
  ТтнЖд_ЕдПодвСост_Номер

    // спецификация
#ifdef _TOVN_DEI
   ДлНазвание
#end

    Название
    КодМЦ
    ОтпЕд
    УчЕд
    DoubleToStr(КолОпл, Kol_Pr)
    DoubleToStr(МассаМЦ * КолУч / 1000, Massa_Pr)
    DoubleToStr((МассаМЦ + МассаТарыМЦ) * КолУч / 1000, Massa_Pr)
    DoubleToStr(if (KatSoprVhodNal = 1, ЦНацСН, ЦНацБН), Cena_PrR)
    DoubleToStr(if (KatSoprVhodNal = 1, СтНацСН0, СтНацБН0), Cena_PrR)
    DoubleToStr(КолФ, Kol_Pr)
    DoubleToStr((МассаМЦ + МассаТарыМЦ) * КолУч / 1000, Massa_Pr)

#ifdef _TOVN_DEI
    ДЕИ_Наим
    DoubleToStr(ДЕИ_Кол, Kol_Pr)
    DoubleToStr(ДЕИ_Цена, Cena_PrR)
    DoubleToStr(ДЕИ_Кол, Kol_Pr)

  // подписи
  sZakl

  // подписи
  sPost4  sFIO4
  sPost5  sFIO5
  sPost6  sFIO6
#else
  // подписи
  sPost3  sFIO3
  sPost4  sFIO4
  sPost5  sFIO5
  sPost1  sFIO1
  sPost2  sFIO2
#end

#ifdef _TOVN_DEI
  sPost2  sFIO2
  ДатаДень  ДатаМесяц   ДатаГод
  sPost3  sFIO3
#end

  Главный_Бухгалтер

  спецсимвол

.endfields
